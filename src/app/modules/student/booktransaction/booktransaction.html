<div class="filter-container">
  <form [formGroup]="filterForm">
    <input formControlName="searchText" placeholder="Search by book ID or book name" />
    <button type="button" (click)="resetFilters()">Reset</button>
  </form>
</div>

<table class="records-table">
  <thead>
    <tr>
      <!-- <th>Book ID</th> -->
      <th>Book Name</th>
      <!-- <th>Student ID</th> -->
      <!-- <th>Student Name</th> -->
      <th>Borrow Date</th>
      <th>Overdue Days</th>
      <th>Fine</th>
      <th>Paid</th>
      <th>Return</th>
    </tr>
  </thead>
  <tbody>
    @for(record of filteredRecords;track record.book.bookId){
      <tr>
      <td>{{ record.book.bookName }}</td>
      <td>{{ record.borrowDate }}</td>
      @if(record.overDueDays>0){
        <td>{{ record.overDueDays }}</td>
      }
      @else{
        <td>--</td>
      }
      @if(record.fine>0){
        <td>{{record.fine}}</td>
      }@else{
        <td>--</td>
      }
      <td>{{ record.pay ? 'Yes' : 'No' }}</td>
      <td>
        @if(!record.returned){
          <button (click)="handleReturn(record)">Return</button>
        }
        @else {
          <span>returned</span>
        }
      </td>
      </tr>
    }
  </tbody>
</table>

